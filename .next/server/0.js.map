{"version":3,"file":"0.js","sources":["webpack:///./components/payment/CheckoutForm.jsx","webpack:///./components/payment/SubscriptionForm.jsx"],"sourcesContent":["import React, {Component} from 'react';\nimport Router from 'next/router';\nimport {CardElement, injectStripe} from 'react-stripe-elements';\nimport { store } from 'react-notifications-component';\n\nclass CheckoutForm extends Component {\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit = async (ev) => {\n    let { token } = await this.props.stripe.createToken({});\n    let response = await fetch(`/payments/${this.props.userId}`, {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({\n        token: token.id,\n        email: this.props.userEmail\n      })\n    });\n\n    if (response.ok) {\n      store.addNotification({\n          message: 'Welcome to Balert.io! You can now log in.',\n          type: 'success',\n          container: 'top-center',\n          animationIn: [\"animated\", \"fadeIn\"],\n          animationOut: [\"animated\", \"fadeOut\"],\n          dismiss: {\n            duration: 4500,\n          },\n          width: 300\n      });\n\n      Router.push('/login');\n    }\n  }\n\n  continueWithoutPaymentMethod = async () => {\n    let response = await fetch(`/payments/${this.props.userId}`, {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({\n        email: this.props.userEmail\n      })\n    });\n\n    if (response.ok) {\n      store.addNotification({\n          message: 'Welcome to Balert.io! You can now log in.',\n          type: 'success',\n          container: 'top-center',\n          animationIn: [\"animated\", \"fadeIn\"],\n          animationOut: [\"animated\", \"fadeOut\"],\n          dismiss: {\n            duration: 4500,\n          },\n          width: 300\n      });\n\n      Router.push('/login');\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"checkout\">\n        <CardElement hidePostalCode={true} style={{base: {fontSize: '18px'}}}/>\n        <button onClick={this.submit} className=\"uk-button uk-button-primary\" style={{marginTop:'0.7rem', borderRadius:'0.1875rem', backgroundColor:'#3ecf8e'}}>\n          Start free trail\n        </button>\n        <button onClick={this.continueWithoutPaymentMethod} className=\"uk-button uk-button-default\" style={{marginTop:'0.7rem', marginLeft: '0.3rem', borderRadius:'0.1875rem'\n        }}>\n          Continue without payment method\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default injectStripe(CheckoutForm);\n","import React, {Component} from 'react';\nimport {Elements, StripeProvider} from 'react-stripe-elements';\nimport CheckoutForm from './CheckoutForm';\n\nclass SubscriptionForm extends Component {\n  constructor() {\n    super();\n    this.state = {stripe: null};\n  }\n  componentDidMount() {\n    // Create Stripe instance in componentDidMount\n    // (componentDidMount only fires in browser/DOM environment)\n    this.setState({stripe: window.Stripe('pk_test_6Y3tu0dpJusXf80I4j3YLNzG0061VJkClE')});\n  }\n\n  render() {\n    return (\n      <StripeProvider stripe={this.state.stripe}>\n        <div className=\"example\">\n          <Elements>\n            <CheckoutForm userId={this.props.userId} userEmail={this.props.userEmail}/>\n          </Elements>\n        </div>\n      </StripeProvider>\n    );\n  }\n}\n\nexport default SubscriptionForm;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAMA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAHA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AATA;AAYA;AACA;AACA;AACA;AAhCA;AAkCA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAHA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AATA;AAYA;AACA;AACA;AACA;AAxDA;AACA;AACA;AAuDA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AA1EA;AACA;AA2EA;;;;;;;;;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAKA;AACA;AAtBA;AACA;AAuBA;;;;A","sourceRoot":""}