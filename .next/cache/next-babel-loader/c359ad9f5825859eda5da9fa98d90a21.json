{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport fetch from 'isomorphic-unfetch';\nimport { getToken, withAuthSync } from '../utils/auth';\nimport { getUserId } from '../utils/user';\nimport { validateEmail, validatePasswords } from '../utils/validate';\n\nvar Introduction = function Introduction() {\n  var _useState = useState(null),\n      token = _useState[0],\n      setToken = _useState[1];\n\n  var _useState2 = useState(null),\n      userId = _useState2[0],\n      setUserId = _useState2[1];\n\n  var handleContinueToDashboard =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var userId, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              userId = getUserId(getToken());\n              _context.next = 3;\n              return fetch(\"/users/\".concat(userId), {\n                method: 'PATCH',\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Authorization': 'Bearer ' + token\n                },\n                body: _JSON$stringify({\n                  showIntroduction: false\n                })\n              });\n\n            case 3:\n              res = _context.sent;\n              Router.push('/dashboard');\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleContinueToDashboard() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var token = getToken();\n    var userId = getUserId(token);\n    setToken(token);\n    setUserId(userId);\n  });\n  var bannerScriptTag1 = \"script src=\\\"http://localhost:3600/\".concat(userId, \".js\\\"\");\n  var bannerScriptTag2 = \"/script\";\n  return __jsx(Layout, {\n    title: \"How to use\"\n  }, __jsx(\"div\", {\n    className: \"uk-section uk-section-muted uk-flex uk-flex-middle uk-animation-fade\",\n    style: {\n      height: \"100vh\"\n    },\n    \"uk-height-viewport\": \"true\"\n  }, __jsx(\"div\", {\n    className: \"uk-width-1-1\"\n  }, __jsx(\"div\", {\n    className: \"uk-container\"\n  }, __jsx(\"div\", {\n    className: \"uk-grid-margin uk-grid uk-grid-stack\",\n    \"uk-grid\": \"true\"\n  }, __jsx(\"div\", {\n    className: \"uk-width-1-1@m\"\n  }, __jsx(\"div\", {\n    style: {\n      background: '#fff',\n      boxShadow: 'none',\n      height: '600px',\n      width: '100%'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '90%',\n      padding: '2rem'\n    }\n  }, __jsx(\"img\", {\n    src: \"/assets/images/logo-2.png\",\n    alt: \"\"\n  }), __jsx(\"h3\", {\n    className: \"uk-text-lead uk-text-bold\"\n  }, \"Introduction\"), __jsx(\"p\", {\n    className: \"uk-text-normal\"\n  }, \"Before you continue we want to make sure you get the right experience with our product, so here's how it works: \", __jsx(\"br\", null)), __jsx(\"p\", null, __jsx(\"b\", null, \"1. \"), \"Make sure you have the right domain in your account settings, this is the domain you typed in when you registered. This is important because the banners you create will only work on that domain. You can easily change it under \\\"settings\\\".\"), __jsx(\"p\", null, __jsx(\"b\", null, \"2. \"), \"Add the script tag below to your website:\", __jsx(\"br\", null), __jsx(\"code\", null, \"<\", bannerScriptTag1, \"><\", bannerScriptTag2, \">\")), __jsx(\"p\", null, __jsx(\"b\", null, \"3. \"), \"Start designing your banners.\", __jsx(\"br\", null)), __jsx(\"button\", {\n    onClick: handleContinueToDashboard,\n    className: \"uk-button uk-button-primary\",\n    style: {\n      marginTop: '0.7rem',\n      borderRadius: '0.1875rem',\n      backgroundColor: '#3ecf8e'\n    }\n  }, \"Go to dashboard\")))))))));\n};\n\nexport default withAuthSync(Introduction);","map":{"version":3,"sources":["/Users/hugojohnsson/Desktop/banner-app/pages/introduction.jsx"],"names":["useState","useEffect","Layout","Link","Router","fetch","getToken","withAuthSync","getUserId","validateEmail","validatePasswords","Introduction","token","setToken","userId","setUserId","handleContinueToDashboard","method","headers","body","showIntroduction","res","push","bannerScriptTag1","bannerScriptTag2","height","background","boxShadow","width","padding","marginTop","borderRadius","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport Layout from '../components/Layout'\nimport Link from 'next/link';\nimport Router from 'next/router'\n\nimport fetch from 'isomorphic-unfetch'\nimport { getToken, withAuthSync } from '../utils/auth'\nimport { getUserId } from '../utils/user'\nimport { validateEmail, validatePasswords } from '../utils/validate'\n\nconst Introduction = () => {\n  const [token, setToken] = useState(null);\n  const [userId, setUserId] = useState(null);\n\n  const handleContinueToDashboard = async () => {\n    const userId = getUserId(getToken());\n    const res = await fetch(`/users/${userId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      },\n      body: JSON.stringify({\n        showIntroduction: false\n      })\n    });\n\n    Router.push('/dashboard');\n  };\n\n  useEffect(() => {\n    const token = getToken()\n    const userId = getUserId(token);\n    setToken(token);\n    setUserId(userId);\n  })\n\n  const bannerScriptTag1 = `script src=\"http://localhost:3600/${userId}.js\"`;\n  const bannerScriptTag2 = \"/script\";\n  return (\n    <Layout title=\"How to use\">\n      <div className=\"uk-section uk-section-muted uk-flex uk-flex-middle uk-animation-fade\" style={{height:\"100vh\"}} uk-height-viewport=\"true\">\n      \t<div className=\"uk-width-1-1\">\n      \t\t<div className=\"uk-container\">\n      \t\t\t<div className=\"uk-grid-margin uk-grid uk-grid-stack\" uk-grid=\"true\">\n      \t\t\t\t<div className=\"uk-width-1-1@m\">\n                  <div style={{background:'#fff', boxShadow:'none', height: '600px', width: '100%'}}>\n                    <div style={{width: '90%', padding: '2rem'}}>\n                      <img src=\"/assets/images/logo-2.png\" alt=\"\"/>\n                      <h3 className=\"uk-text-lead uk-text-bold\">Introduction</h3>\n                      <p className=\"uk-text-normal\">\n                        Before you continue we want to make sure you get the right experience with our product, so here's how it works: <br/>\n                      </p>\n                      <p>\n                        <b>1. </b>Make sure you have the right domain in your account settings, this is the domain you typed in when you registered.\n                        This is important because the banners you create will only work on that domain. You can easily change it under \"settings\".\n                      </p>\n                      <p>\n                        <b>2. </b>Add the script tag below to your website:<br/>\n                        <code>&lt;{bannerScriptTag1}&gt;&lt;{bannerScriptTag2}&gt;</code>\n                      </p>\n                      <p>\n                        <b>3. </b>Start designing your banners.<br/>\n                      </p>\n                      <button onClick={handleContinueToDashboard} className=\"uk-button uk-button-primary\" style={{marginTop:'0.7rem', borderRadius:'0.1875rem', backgroundColor:'#3ecf8e'}}>\n                        Go to dashboard\n                      </button>\n                    </div>\n        \t\t\t\t\t</div>\n      \t\t\t\t</div>\n      \t\t\t</div>\n      \t\t</div>\n      \t</div>\n      </div>\n    </Layout>\n  )\n};\n\nexport default withAuthSync(Introduction);\n"]},"metadata":{},"sourceType":"module"}