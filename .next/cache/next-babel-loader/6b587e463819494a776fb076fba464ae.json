{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport Link from 'next/link';\nimport Router, { useRouter } from 'next/router';\nimport { store } from 'react-notifications-component';\nimport fetch from 'isomorphic-unfetch';\nimport { login, redirectIfPaymentMethod, getToken, toDashboardIfLoggedIn } from '../utils/auth';\nimport { hasPaymentMethod } from '../utils/user';\nimport { validateEmail, validatePasswords } from '../utils/validate';\nimport dynamic from 'next/dynamic';\nvar SubscriptionForm = dynamic(function () {\n  return import('../components/payment/SubscriptionForm');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../components/payment/SubscriptionForm')];\n    },\n    modules: ['../components/payment/SubscriptionForm']\n  }\n});\n\nvar Register = function Register() {\n  var _useState = useState(''),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(''),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var _useState3 = useState(''),\n      confirmPassword = _useState3[0],\n      setConfirmPassword = _useState3[1];\n\n  var _useState4 = useState(''),\n      domain = _useState4[0],\n      setDomain = _useState4[1];\n\n  var _useState5 = useState(false),\n      showSubscriptionStep = _useState5[0],\n      setShowSubscriptionStep = _useState5[1];\n\n  var _useState6 = useState(null),\n      userId = _useState6[0],\n      setUserId = _useState6[1];\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var res, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(validateEmail(email) && validatePasswords(password, confirmPassword))) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 4;\n              return fetch('/users', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: _JSON$stringify({\n                  email: email,\n                  password: password,\n                  domain: domain\n                })\n              });\n\n            case 4:\n              res = _context.sent;\n              _context.next = 7;\n              return res.json();\n\n            case 7:\n              data = _context.sent;\n\n              if (!data.error) {\n                setUserId(data.id);\n                setShowSubscriptionStep(true);\n              }\n\n              _context.next = 12;\n              break;\n\n            case 11:\n              store.addNotification({\n                title: 'Error',\n                message: 'Email has already been used or password does not match',\n                type: 'danger',\n                // 'default', 'success', 'info', 'warning'\n                container: 'top-center',\n                // where to position the notifications\n                animationIn: [\"animated\", \"fadeIn\"],\n                // animate.css classes that's applied\n                animationOut: [\"animated\", \"fadeOut\"],\n                // animate.css classes that's applied\n                dismiss: {\n                  duration: 4500\n                },\n                width: 300\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var router = useRouter();\n  useEffect(function () {\n    toDashboardIfLoggedIn();\n\n    if (router.query.userId) {\n      setUserId(router.query.userId);\n      setShowSubscriptionStep(true);\n    }\n  });\n  return __jsx(Layout, {\n    title: \"Register\"\n  }, __jsx(\"div\", {\n    className: \"uk-section uk-section-muted uk-flex uk-flex-middle uk-animation-fade\",\n    style: {\n      height: \"100vh\"\n    },\n    \"uk-height-viewport\": \"true\"\n  }, __jsx(\"div\", {\n    className: \"uk-width-1-1\"\n  }, __jsx(\"div\", {\n    className: \"uk-container\"\n  }, __jsx(\"div\", {\n    className: \"uk-grid-margin uk-grid uk-grid-stack\",\n    \"uk-grid\": \"true\"\n  }, __jsx(\"div\", {\n    className: \"uk-width-1-1@m\"\n  }, !showSubscriptionStep ? __jsx(\"div\", {\n    className: \"uk-margin uk-width-large uk-margin-auto uk-card uk-card-default uk-card-body\",\n    style: {\n      background: 'inherit',\n      boxShadow: 'none'\n    }\n  }, __jsx(\"h3\", {\n    className: \"uk-card-title uk-text-center\"\n  }, \"Create an account\"), __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"uk-margin\"\n  }, __jsx(\"div\", {\n    className: \"uk-inline uk-width-1-1\"\n  }, __jsx(\"span\", {\n    className: \"uk-form-icon\",\n    \"uk-icon\": \"icon: mail\"\n  }), __jsx(\"input\", {\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    className: \"uk-input\",\n    type: \"text\",\n    placeholder: \"Email address\",\n    style: {\n      borderRadius: '0.1875rem'\n    }\n  }))), __jsx(\"div\", {\n    className: \"uk-margin\"\n  }, __jsx(\"div\", {\n    className: \"uk-inline uk-width-1-1\"\n  }, __jsx(\"span\", {\n    className: \"uk-form-icon\",\n    \"uk-icon\": \"icon: lock\"\n  }), __jsx(\"input\", {\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    className: \"uk-input\",\n    type: \"password\",\n    placeholder: \"Password\",\n    style: {\n      borderRadius: '0.1875rem'\n    }\n  }))), __jsx(\"div\", {\n    className: \"uk-margin\"\n  }, __jsx(\"div\", {\n    className: \"uk-inline uk-width-1-1\"\n  }, __jsx(\"span\", {\n    className: \"uk-form-icon\",\n    \"uk-icon\": \"icon: lock\"\n  }), __jsx(\"input\", {\n    value: confirmPassword,\n    onChange: function onChange(e) {\n      return setConfirmPassword(e.target.value);\n    },\n    className: \"uk-input\",\n    type: \"password\",\n    placeholder: \"Confirm password\",\n    style: {\n      borderRadius: '0.1875rem'\n    }\n  }))), __jsx(\"div\", {\n    className: \"uk-margin\"\n  }, __jsx(\"div\", {\n    className: \"uk-inline uk-width-1-1\"\n  }, __jsx(\"span\", {\n    className: \"uk-form-icon\",\n    \"uk-icon\": \"icon: home\"\n  }), __jsx(\"input\", {\n    value: domain,\n    onChange: function onChange(e) {\n      return setDomain(e.target.value);\n    },\n    className: \"uk-input\",\n    type: \"text\",\n    placeholder: \"Your domain name\",\n    style: {\n      borderRadius: '0.1875rem'\n    }\n  })), __jsx(\"span\", {\n    className: \"uk-text-small uk-text-muted\"\n  }, \"* You can always change your domain under \\\"settings\\\".\")), __jsx(\"div\", {\n    className: \"uk-margin\"\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"uk-button uk-button-primary uk-button-large uk-width-1-1\",\n    style: {\n      borderRadius: '0.1875rem'\n    }\n  }, \"Continue\")), __jsx(\"div\", {\n    className: \"uk-text-small uk-text-center\"\n  }, \"Already have an account? \", __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", null, \"Sign in here\"))))) : __jsx(\"div\", {\n    style: {\n      background: '#fff',\n      boxShadow: 'none',\n      display: 'flex',\n      justifyContent: 'space-around',\n      height: '600px',\n      width: '100%'\n    }\n  }, __jsx(\"div\", {\n    style: {\n      width: '100%',\n      padding: '2rem'\n    }\n  }, __jsx(\"img\", {\n    src: \"/assets/images/logo-2.png\",\n    alt: \"\"\n  }), __jsx(\"h3\", {\n    className: \"uk-text-lead uk-text-bold\"\n  }, \"Welcome, just one more step!\"), __jsx(\"p\", {\n    className: \"uk-text-normal\"\n  }, \"We will not charge you before your trail runs out and you can always cancel your account under settings. If you choose to continue without payment method you will need to add this in under \\\"billing\\\" before your trial runs out.\"), __jsx(\"div\", null, __jsx(SubscriptionForm, {\n    userId: userId,\n    userEmail: email\n  }))))))))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/hugojohnsson/Desktop/banner-app/pages/register.jsx"],"names":["useState","useEffect","Layout","Link","Router","useRouter","store","fetch","login","redirectIfPaymentMethod","getToken","toDashboardIfLoggedIn","hasPaymentMethod","validateEmail","validatePasswords","dynamic","SubscriptionForm","ssr","Register","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","domain","setDomain","showSubscriptionStep","setShowSubscriptionStep","userId","setUserId","handleSubmit","e","preventDefault","method","headers","body","res","json","data","error","id","addNotification","title","message","type","container","animationIn","animationOut","dismiss","duration","width","router","query","height","background","boxShadow","target","value","borderRadius","display","justifyContent","padding"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport Layout from '../components/Layout'\nimport Link from 'next/link';\nimport Router, { useRouter } from 'next/router'\nimport { store } from 'react-notifications-component';\n\nimport fetch from 'isomorphic-unfetch'\nimport { login, redirectIfPaymentMethod, getToken, toDashboardIfLoggedIn } from '../utils/auth'\nimport { hasPaymentMethod } from '../utils/user';\nimport { validateEmail, validatePasswords } from '../utils/validate'\n\nimport dynamic from 'next/dynamic'\n\nconst SubscriptionForm = dynamic(\n  () => import('../components/payment/SubscriptionForm'),\n  { ssr: false }\n)\n\nconst Register = () => {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [domain, setDomain] = useState('');\n\n  const [showSubscriptionStep, setShowSubscriptionStep] = useState(false);\n  const [userId, setUserId] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (validateEmail(email) && validatePasswords(password, confirmPassword)) {\n\n      const res = await fetch('/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          password: password,\n          domain: domain\n        })\n      });\n\n      const data = await res.json();\n      if(!data.error) {\n        setUserId(data.id);\n        setShowSubscriptionStep(true);\n      }\n    } else {\n      store.addNotification({\n          title: 'Error',\n          message: 'Email has already been used or password does not match',\n          type: 'danger',                         // 'default', 'success', 'info', 'warning'\n          container: 'top-center',                // where to position the notifications\n          animationIn: [\"animated\", \"fadeIn\"],     // animate.css classes that's applied\n          animationOut: [\"animated\", \"fadeOut\"],   // animate.css classes that's applied\n          dismiss: {\n            duration: 4500,\n          },\n          width: 300\n      });\n    }\n  }\n\n  const router = useRouter();\n\n  useEffect(() => {\n    toDashboardIfLoggedIn();\n\n    if (router.query.userId) {\n      setUserId(router.query.userId);\n      setShowSubscriptionStep(true);\n    }\n  })\n\n\n  return (\n    <Layout title=\"Register\">\n      <div className=\"uk-section uk-section-muted uk-flex uk-flex-middle uk-animation-fade\" style={{height:\"100vh\"}} uk-height-viewport=\"true\">\n      \t<div className=\"uk-width-1-1\">\n      \t\t<div className=\"uk-container\">\n      \t\t\t<div className=\"uk-grid-margin uk-grid uk-grid-stack\" uk-grid=\"true\">\n      \t\t\t\t<div className=\"uk-width-1-1@m\">\n      \t\t\t\t\t{\n                  !showSubscriptionStep ?\n                  <div className=\"uk-margin uk-width-large uk-margin-auto uk-card uk-card-default uk-card-body\" style={{background:'inherit', boxShadow:'none'}}>\n        \t\t\t\t\t\t<h3 className=\"uk-card-title uk-text-center\">Create an account</h3>\n        \t\t\t\t\t\t<form onSubmit={handleSubmit}>\n        \t\t\t\t\t\t\t<div className=\"uk-margin\">\n        \t\t\t\t\t\t\t\t<div className=\"uk-inline uk-width-1-1\">\n        \t\t\t\t\t\t\t\t\t<span className=\"uk-form-icon\" uk-icon=\"icon: mail\"></span>\n        \t\t\t\t\t\t\t\t\t<input value={email} onChange={e => setEmail(e.target.value)} className=\"uk-input\" type=\"text\" placeholder=\"Email address\" style={{borderRadius:'0.1875rem'}}/>\n        \t\t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t\t<div className=\"uk-margin\">\n        \t\t\t\t\t\t\t\t<div className=\"uk-inline uk-width-1-1\">\n        \t\t\t\t\t\t\t\t\t<span className=\"uk-form-icon\" uk-icon=\"icon: lock\"></span>\n        \t\t\t\t\t\t\t\t\t<input value={password} onChange={e => setPassword(e.target.value)}  className=\"uk-input\" type=\"password\" placeholder=\"Password\" style={{borderRadius:'0.1875rem'}}/>\n        \t\t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t\t</div>\n                      <div className=\"uk-margin\">\n        \t\t\t\t\t\t\t\t<div className=\"uk-inline uk-width-1-1\">\n        \t\t\t\t\t\t\t\t\t<span className=\"uk-form-icon\" uk-icon=\"icon: lock\"></span>\n        \t\t\t\t\t\t\t\t\t<input value={confirmPassword} onChange={e => setConfirmPassword(e.target.value)}  className=\"uk-input\" type=\"password\" placeholder=\"Confirm password\" style={{borderRadius:'0.1875rem'}}/>\n        \t\t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t\t</div>\n                      <div className=\"uk-margin\">\n        \t\t\t\t\t\t\t\t<div className=\"uk-inline uk-width-1-1\">\n        \t\t\t\t\t\t\t\t\t<span className=\"uk-form-icon\" uk-icon=\"icon: home\"></span>\n        \t\t\t\t\t\t\t\t\t<input value={domain} onChange={e => setDomain(e.target.value)} className=\"uk-input\" type=\"text\" placeholder='Your domain name' style={{borderRadius:'0.1875rem'}}/>\n        \t\t\t\t\t\t\t\t</div>\n                        <span className=\"uk-text-small uk-text-muted\">* You can always change your domain under \"settings\".</span>\n        \t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t\t<div className=\"uk-margin\">\n                        <button type=\"submit\" className=\"uk-button uk-button-primary uk-button-large uk-width-1-1\" style={{borderRadius:'0.1875rem'}}>Continue</button>\n        \t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t\t<div className=\"uk-text-small uk-text-center\">\n        \t\t\t\t\t\t\t  Already have an account? <Link href='/login'><a>Sign in here</a></Link>\n        \t\t\t\t\t\t\t</div>\n        \t\t\t\t\t\t</form>\n        \t\t\t\t\t</div>\n                  :\n                  <div\n                    style={{background:'#fff', boxShadow:'none', display: 'flex', justifyContent: 'space-around', height: '600px', width: '100%'}}\n                  >\n                    <div style={{width: '100%', padding: '2rem'}}>\n                      <img src=\"/assets/images/logo-2.png\" alt=\"\"/>\n                      <h3 className=\"uk-text-lead uk-text-bold\">\n                        Welcome, just one more step!\n                      </h3>\n                        <p className=\"uk-text-normal\">\n                          We will not charge you before your trail runs out\n                          and you can always cancel your account under settings.\n                          If you choose to continue without payment method you will\n                          need to add this in under \"billing\" before your trial runs out.\n                        </p>\n                      <div>\n                        <SubscriptionForm userId={userId} userEmail={email}/>\n                      </div>\n                    </div>\n        \t\t\t\t\t</div>\n                }\n      \t\t\t\t</div>\n      \t\t\t</div>\n      \t\t</div>\n      \t</div>\n      </div>\n    </Layout>\n  )\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}